<!doctype html>
<html>
<head>
	<title>Charter Documentation</title>

	<link rel="stylesheet" href="/charter/app/assets/css/style.css" />

	<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>

<body>
	<script type="module" src="/charter/app/docs/docs.js"></script>

	<nav class="docs-nav js-menu" aria-live="polite">
		<button class="docs-nav__toggle js-menu-toggle" title="Menu (Ctrl + M)">
			<div class="docs-nav__toggle-box js-menu-toggle">
				<span class="docs-nav__toggle-line"></span>
				<span class="docs-nav__toggle-line"></span>
				<span class="docs-nav__toggle-line"></span>
			</div>
		</button>

		<div class="docs-nav__content">
			<div class="docs-nav__head">
				<input type="text" class="docs-nav__search js-menu-search" placeholder="Search (Ctrl + /)" />
			</div>

			<div class="docs-nav__body js-menu-search-body">
				<ol class="docs-nav__list">
					<li>
						<a class="a docs-nav__item js-menu-link" href="#installation">Installation</a>
					</li>
					<li>
						<a class="a docs-nav__item js-menu-link" href="#analyser">Analyser</a>
						<ol class="docs-nav__list">
							<li><a class="a docs-nav__item js-menu-link" href="#analyser-loadfile">loadFile</a></li>
							<li><a class="a docs-nav__item js-menu-link" href="#analyser-combinedata">combineData</a></li>
							<li><a class="a docs-nav__item js-menu-link" href="#analyser-getcolnumber">getColNumber</a></li>
							<li><a class="a docs-nav__item js-menu-link" href="#analyser-getcolnumbers">getColNumbers</a></li>
							<li><a class="a docs-nav__item js-menu-link" href="#analyser-getcol">getCol</a></li>
							<li><a class="a docs-nav__item js-menu-link" href="#analyser-addcol">addCol</a></li>
							<li><a class="a docs-nav__item js-menu-link" href="#analyser-getderivedcol">getDerivedCol</a></li>
							<li><a class="a docs-nav__item js-menu-link" href="#analyser-addderivedcol">addDerivedCol</a></li>
							<li><a class="a docs-nav__item js-menu-link" href="#analyser-createsubtable">createSubTable</a></li>
							<li><a class="a docs-nav__item js-menu-link" href="#analyser-createsubtablestring">createSubTableString</a></li>
							<li><a class="a docs-nav__item js-menu-link" href="#analyser-getcolsummary">getColSummary</a></li>
							<li><a class="a docs-nav__item js-menu-link" href="#analyser-getcolasdataseries">getColAsDataSeries</a></li>
							<li><a class="a docs-nav__item js-menu-link" href="#analyser-getcomparisonsummary">getComparisonSummary</a></li>
							<li><a class="a docs-nav__item js-menu-link" href="#analyser-getcomparisonsummarystring">getComparisonSummaryString</a></li>
							<li><a class="a docs-nav__item js-menu-link" href="#analyser-savecomparisonsummarycsv">saveComparisonSummaryCsv</a></li>
							<li><a class="a docs-nav__item js-menu-link" href="#analyser-fileconfig">fileConfig</a>
								<ol class="docs-nav__list">
									<li><a class="a docs-nav__item js-menu-link" href="#analyser-fileconfig-headerrows">headerRows</a></li>
									<li><a class="a docs-nav__item js-menu-link" href="#analyser-fileconfig-footerrows">footerRows</a></li>
									<li><a class="a docs-nav__item js-menu-link" href="#analyser-fileconfig-cols">cols</a></li>
									<li><a class="a docs-nav__item js-menu-link" href="#analyser-fileconfig-arraycols">arrayCols</a></li>
									<li><a class="a docs-nav__item js-menu-link" href="#analyser-fileconfig-defaultcolvalues">defaultColValues</a></li>
									<li><a class="a docs-nav__item js-menu-link" href="#analyser-fileconfig-defaultcols">defaultCols</a></li>
									<li><a class="a docs-nav__item js-menu-link" href="#analyser-fileconfig-aliases">aliases</a></li>
									<li><a class="a docs-nav__item js-menu-link" href="#analyser-fileconfig-enumsmap">enumsMap</a></li>
									<li><a class="a docs-nav__item js-menu-link" href="#analyser-fileconfig-uniqueCols">uniqueCols</a></li>
								</ol>
							</li>
							<li><a class="a docs-nav__item js-menu-link" href="#analyser-dataconfig">dataConfig</a>
								<ol class="docs-nav__list">
									<li><a class="a docs-nav__item js-menu-link" href="#analyser-dataconfig-cols">cols</a></li>
									<li><a class="a docs-nav__item js-menu-link" href="#analyser-dataconfig-rows">rows</a></li>
									<li><a class="a docs-nav__item js-menu-link" href="#analyser-dataconfig-aliases">aliases</a></li>
									<li><a class="a docs-nav__item js-menu-link" href="#analyser-dataconfig-enums">enums</a></li>
									<li><a class="a docs-nav__item js-menu-link" href="#analyser-filters">filters</a>
										<ol class="docs-nav__list">
											<li><a class="a docs-nav__item js-menu-link" href="#analyser-filters-filter">filter</a></li>
											<li><a class="a docs-nav__item js-menu-link" href="#analyser-filters-filterand">filterAnd</a></li>
											<li><a class="a docs-nav__item js-menu-link" href="#analyser-filters-filteror">filterOr</a></li>
										</ol>
									</li>
								</ol>
							</li>
						</ol>
					</li>
					<li><a class="a docs-nav__item js-menu-link" href="#charter">Charter</a>
						<ol class="docs-nav__list">
							<li><a class="a docs-nav__item js-menu-link" href="#charter-chartdata">chartData</a>
								<ol class="docs-nav__list">
									<li><a class="a docs-nav__item js-menu-link" href="#charter-chartdata-dataseries">dataSeries</a></li>
									<li><a class="a docs-nav__item js-menu-link" href="#charter-chartdata-numericaxisconfig">numericAxisConfig</a></li>
									<li><a class="a docs-nav__item js-menu-link" href="#charter-chartdata-qualitativeaxisconfig">qualitativeAxisConfig</a></li>
								</ol>
							</li>
							<li><a class="a docs-nav__item js-menu-link" href="#charter-createtable">createTable</a></li>
							<li><a class="a docs-nav__item js-menu-link" href="#charter-createbarchart">createBarChart</a></li>
							<li><a class="a docs-nav__item js-menu-link" href="#charter-createlinegraph">createLineGraph</a></li>
							<li><a class="a docs-nav__item js-menu-link" href="#charter-createscatterplot">createScatterPlot</a></li>
							<li><a class="a docs-nav__item js-menu-link" href="#charter-updatebarchart">updateBarChart</a></li>
						</ol>
					</li>
					<li><a class="a docs-nav__item js-menu-link" href="#stats">Stats</a>
						<ol class="docs-nav__list">
							<li><a class="a docs-nav__item js-menu-link" href="#stats-sum">sum</a></li>
							<li><a class="a docs-nav__item js-menu-link" href="#stats-mean">mean</a></li>
							<li><a class="a docs-nav__item js-menu-link" href="#stats-median">median</a></li>
							<li><a class="a docs-nav__item js-menu-link" href="#stats-variance">variance</a></li>
							<li><a class="a docs-nav__item js-menu-link" href="#stats-sd">sd</a></li>
							<li><a class="a docs-nav__item js-menu-link" href="#stats-max">max</a></li>
							<li><a class="a docs-nav__item js-menu-link" href="#stats-min">min</a></li>
							<li><a class="a docs-nav__item js-menu-link" href="#stats-intrange">intRange</a></li>
							<li><a class="a docs-nav__item js-menu-link" href="#stats-linearleastsquares">linearLeastSquares</a></li>
							<li><a class="a docs-nav__item js-menu-link" href="#stats-r">r</a></li>
							<li><a class="a docs-nav__item js-menu-link" href="#stats-r2">r2</a></li>
							<li><a class="a docs-nav__item js-menu-link" href="#stats-smooth">smooth</a></li>
							<li><a class="a docs-nav__item js-menu-link" href="#stats-chunk">chunk</a></li>
						</ol>
					</li>
				</ol>
			</div>
		</div>
	</nav>

	<div class="layout--wide">
		<div class="content">
			<h1>Charter Documentation</h1>

			<p>The Charter repository is a set of three tools for analysing and visualising data in JavaScript and HTML:</p>

			<ul>
				<li><a href="#analyser">Analyser</a>: Processes data from CSV files and allows it to be analysed</li>
				<li><a href="#charter">Charter</a>: Takes in formatted data and uses it to visualise data in HTML</li>
				<li><a href="#stats">Stats</a>: A set of utility functions for analysing data</li>
			</ul>

			<p>Charter is made available under the <a href="https://firstdonoharm.dev" target="_blank">Hippocratic Licence</a>.</p>

			<p>Most of the examples in this documentation can be edited in place (look for the pencil icon), and their outputs will be displayed alongside. You can use <code>console.log</code> and <code>console.table</code> to display data, or just <code>return</code> what you want to see.</p>

			<p>The example data used in this documentation, found in the files <code>city example.csv</code>, <code>city example 2.csv</code>, and <code>city example 3.csv</code>, looks like this:</p>

			<p><a href="/charter/app/docs/data/city example.csv" target="_blank">city example.csv</a></p>

			<table>
				<thead>
					<tr>
						<th>NAME</th>
						<th>COUNTRY</th>
						<th>POPULATION</th>
						<th>CAPITAL</th>
						<th>PUBLIC_TRANSPORT</th>
						<th>MAYOR_2012</th>
						<th>MAYOR_2018</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>Auckland</td>
						<td>New Zealand</td>
						<td>1614</td>
						<td></td>
						<td>Bus,Train</td>
						<td>Len Brown</td>
						<td>Phil Goff</td>
					</tr>
					<tr>
						<td>Taup≈ç</td>
						<td>Aotearoa</td>
						<td>32.907</td>
						<td></td>
						<td>Bus,Train</td>
						<td>Rick Cooper</td>
						<td>David Trewavas</td>
					</tr>
					<tr>
						<td>Hamburg</td>
						<td>Germany</td>
						<td>1810</td>
						<td></td>
						<td>Bus,Train,Ferry</td>
						<td>Olaf Scholz</td>
						<td>Katharina Fegebank,Peter Tschentscher</td>
					</tr>
					<tr>
						<td>Sydney</td>
						<td>Australia</td>
						<td>4841</td>
						<td></td>
						<td>Bus,Train,Ferry</td>
						<td>Clover Moore</td>
						<td>Clover Moore</td>
					</tr>
					<tr>
						<td>Hamilton</td>
						<td>New Zealand</td>
						<td>161.2</td>
						<td></td>
						<td>Bus</td>
						<td>Julia Hardaker</td>
						<td>Andrew King</td>
					</tr>
					<tr>
						<td>Wellington</td>
						<td>New Zealand</td>
						<td>381.9</td>
						<td>true</td>
						<td>Bus,Train,Ferry,Cable Car</td>
						<td>Celia Wade-Brown</td>
						<td>Justin Lester</td>
					</tr>
					<tr>
						<td>Christchurch</td>
						<td>New Zealand</td>
						<td>363.926</td>
						<td></td>
						<td>Bus</td>
						<td>Bob Parker</td>
						<td>Lianne Dalziel</td>
					</tr>
					<tr>
						<td>Dunedin</td>
						<td>New Zealand</td>
						<td>114.347</td>
						<td></td>
						<td>Bus</td>
						<td>Dave Cull</td>
						<td>Dave Cull</td>
					</tr>
					<tr>
						<td>Tauranga</td>
						<td>New Zealand</td>
						<td>110.338</td>
						<td></td>
						<td>Bus</td>
						<td>Stuart Crosby</td>
						<td>Greg Brownless</td>
					</tr>
				</tbody>
			</table>

			<p><a href="/charter/app/docs/data/city example 2.csv">city example 2.csv</a></p>

			<table>
				<thead>
					<tr>
						<th>Name</th>
						<th>Country</th>
						<th>Population (thousands)</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>Semarang</td>
						<td>Indonesia</td>
						<td>"1,556"</td>
					</tr>
					<tr>
						<td>Islamabad</td>
						<td>Pakistan</td>
						<td>1015</td>
					</tr>
					<tr>
						<td>New Taipei City</td>
						<td>Taiwan</td>
						<td>"3,972"</td>
					</tr>
					<tr>
						<td>Nagoya</td>
						<td>Japan</td>
						<td>2296</td>
					</tr>
				</tbody>
			</table>

			<p><a href="/charter/app/docs/data/city example 3.csv">city example 3.csv</a></p>

			<table>
				<thead>
					<tr>
						<th>YEAR</th>
						<th>POPULATION</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>1991</td>
						<td>3516000</td>
					</tr>
					<tr>
						<td>1992</td>
						<td>3552200</td>
					</tr>
					<tr>
						<td>1993</td>
						<td>3597800</td>
					</tr>
					<tr>
						<td>1994</td>
						<td>3648300</td>
					</tr>
					<tr>
						<td>1995</td>
						<td>3706700</td>
					</tr>
					<tr>
						<td>1996</td>
						<td>3762300</td>
					</tr>
					<tr>
						<td>1997</td>
						<td>3802700</td>
					</tr>
					<tr>
						<td>1998</td>
						<td>3829200</td>
					</tr>
					<tr>
						<td>1993</td>
						<td>3851100</td>
					</tr>
					<tr>
						<td>2000</td>
						<td>3873100</td>
					</tr>
					<tr>
						<td>2001</td>
						<td>3916200</td>
					</tr>
					<tr>
						<td>2002</td>
						<td>3989500</td>
					</tr>
					<tr>
						<td>2003</td>
						<td>4061600</td>
					</tr>
					<tr>
						<td>2004</td>
						<td>4114300</td>
					</tr>
					<tr>
						<td>2005</td>
						<td>4161000</td>
					</tr>
					<tr>
						<td>2006</td>
						<td>4209100</td>
					</tr>
					<tr>
						<td>2007</td>
						<td>4245700</td>
					</tr>
					<tr>
						<td>2008</td>
						<td>4280300</td>
					</tr>
					<tr>
						<td>2009</td>
						<td>4332100</td>
					</tr>
					<tr>
						<td>2010</td>
						<td>4373900</td>
					</tr>
					<tr>
						<td>2011</td>
						<td>4399400</td>
					</tr>
					<tr>
						<td>2012</td>
						<td>4425900</td>
					</tr>
					<tr>
						<td>2013</td>
						<td>4475800</td>
					</tr>
					<tr>
						<td>2014</td>
						<td>4554600</td>
					</tr>
					<tr>
						<td>2015</td>
						<td>4647300</td>
					</tr>
					<tr>
						<td>2016</td>
						<td>4747200</td>
					</tr>
					<tr>
						<td>2017</td>
						<td>4844400</td>
					</tr>
				</tbody>
			</table>
		</div>

		<section class="docs-section">
			<div class="content">
				<h2 class="docs-section__title" id="installation">Installation</h2>

				<p>Charter uses <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import" target="_blank">ES6 modules</a>. To use one of Charter's tools in your code, just import it like this:</p>

				<code class="code code--block">import Charter from './charter/charter.js';
import Analyser from './charter/analyser.js';
import Stats from './charter/stats.js';</code>
			</div>
		</section>

		<section class="docs-section">
			<div class="content">
				<h2 class="docs-section__title" id="analyser">Analyser</h2>

				<h3>Use</h3>

				<p>The first step to using Analyser is processing a file using the <code>loadFile</code> method. A <code>dataConfig</code> object representing the processed data will be made available to a callback function passed in to this method.</p>

				<p>Through that object, you will have access to <code>rows</code> array, where each element is an array representing a row in the CSV, and a <code>cols</code> object you have defined for accessing specific columns.</p>

				<p>You will also have access to a set of filter functions for filtering rows, which can make use of optional sets of aliases if appropriate for your data. See the <a href="#analyser-dataconfig">dataConfig</a> section for more information</p>

				<h3>Row methods vs. Analyser methods</h3>

				<p>Some methods documented here exist on the <code>rows</code> object made available through the <code>dataConfig</code> object. Each of these methods can also be called as a method of the <code>Analyser</code> object, by passing in the <code>rows</code> object as the first argument.</p>

				<p>For example, the <code><a href="#analyser-getcol">getCol</a></code> function can be called as either <code>Analyser.getCol(rows, colNum)</code> or as <code>rows.getCol(colNum)</code></p>

				<p>Filter methods may also be called in two ways. They are also exposed on the <code>rows</code> object, but alternatively they are also exposed via the <code>filters</code> property of the <code>dataConfig</code> object, where they have slightly different names and expect a <code>rows</code> object as their first argument. These are available for backwards compatability purposes.</p>

				<p>Both variant ways of calling these functions are documented here. The form of <code>rows.getCol(colNum)</code> is preferred, whereas the <code>Analyser.getCol</code> variant is maintained for backwards compatability. This primary form is used in the examples.</p>
			</div>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="analyser-loadfile">loadFile</h4>

					<code class="code code--block">loadFile(fileInfo1, fileConfig1, fileInfo2, fileConfig2, fileInfoN, fileConfigN, callback)</code>

					<p><code>loadFile</code> takes in one or more pairs of <code>fileInfo</code> and <code>fileConfig</code> arguments, followed by a single <code>callback</code>.</p>

					<p>For each specified file, <code>loadFile</code> either requests a file at the specified path via a GET request, or processes a file that has already been loaded, such as via a file input. It parses the CSV, then processes it internally according to the <code>fileConfig</code> object passed in before passing the processed <code>dataConfig</code> object to a specified <code>callback</code> function.</p>

					<p>When processing the data, Analyser will try to intelligently determine which cells contain numbers and which contain strings. Cells that seem to contain percentages will be converted to numbers, e.g. "50%" becomes <code>0.5</code>.</p>

					<p>When converting numbers, it will assume the <code>.</code> character is used as a decimal point, and the <code>,</code> character may be used when representing numbers as a string but will be ignored. Some cultures use these characters differently when representing numbers, for example three hundred thousand and a quarter could be represented as <code>300.000,25</code>. This form of numeric representation is <strong>not supported</strong>, so if it is used in your data be sure to convert it before processing it with Analyser.</p>

					<p>The strings "true" and "false" will also be converted to the JavaScript equivalent boolean values <code>true</code> and <code>false</code>, but any other strings (such as "True") will not be converted.</p>

					<p><code>fileInfo</code> arguments are either a string representing the URL of a CSV file to load or a <code>File</code> object.</p>

					<p><code>fileConfig</code> arguments are a JavaScript object containing information on how the data should be processed. See the <a href="#analyser-fileconfig">fileConfig</a> section for more information.</p>

					<p><code>callback</code> is a function that will receive a <code>dataConfig</code> object representing the processed data. See the <a href="#analyser-dataconfig">dataConfig</a> section for more information.</p>

					<p>(city example.csv)</p>
				</div>

				<div class="docs-example">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code">let fileConfig = {
	headerRows: 1,
	cols: Analyser.getColNumbers({
		NAME: 'A',
		COUNTRY: 'B',
		POPULATION: 'C',
		CAPITAL: 'D',
		PUBLIC_TRANSPORT: 'E',
		MAYOR_2012: 'F',
		MAYOR_2018: 'G'
	}),
	arrayCols: {},
	defaultColValues: {},
	defaultCols: {},
	aliases: {
		COUNTRY: [
			['New Zealand', 'Aotearoa']
		]
	},
	enumsMap: {}
};

fileConfig.arrayCols[fileConfig.cols.PUBLIC_TRANSPORT] = ',';
fileConfig.arrayCols[fileConfig.cols.MAYOR_2018] = ',';

fileConfig.defaultColValues[fileConfig.cols.CAPITAL] = 'No';

fileConfig.defaultCols[fileConfig.cols.CAPITAL] = false;

fileConfig.enumsMap.MAYOR = [fileConfig.cols.MAYOR_2012, fileConfig.cols.MAYOR_2018];

let exploreData = function (dataConfig) {
	let rows = dataConfig.rows;
	let cols = dataConfig.cols;

	// Do stuff with the data here

	let table = rows.createSubTableString(cols);
	console.log(table);
};

Analyser.loadFile('/charter/app/docs/data/city example.csv', fileConfig, exploreData);</code>
					</div>

					<div class="docs-example__output-container">
						<samp class="code code--block docs-example__output"><table class="code__entry table"><thead>
									<tr>
										<th>NAME</th>
										<th>COUNTRY</th>
										<th>POPULATION</th>
										<th>CAPITAL</th>
										<th>PUBLIC_TRANSPORT</th>
										<th>MAYOR_2012</th>
										<th>MAYOR_2018</th>
									</tr>
								</thead><tbody>
									<tr>
										<td>Auckland</td>
										<td>New Zealand</td>
										<td>1614</td>
										<td>false</td>
										<td>Bus,Train</td>
										<td>Len Brown</td>
										<td>Phil Goff</td>
									</tr>
									<tr>
										<td>Taup≈ç</td>
										<td>Aotearoa</td>
										<td>32.907</td>
										<td>false</td>
										<td>Bus,Train</td>
										<td>Rick Cooper</td>
										<td>David Trewavas</td>
									</tr>
									<tr>
										<td>Hamburg</td>
										<td>Germany</td>
										<td>1810</td>
										<td>false</td>
										<td>Bus,Train,Ferry</td>
										<td>Olaf Scholz</td>
										<td>Katharina Fegebank,Peter Tschentscher</td>
									</tr>
									<tr>
										<td>Sydney</td>
										<td>Australia</td>
										<td>4841</td>
										<td>false</td>
										<td>Bus,Train,Ferry</td>
										<td>Clover Moore</td>
										<td>Clover Moore</td>
									</tr>
									<tr>
										<td>Hamilton</td>
										<td>New Zealand</td>
										<td>161.2</td>
										<td>false</td>
										<td>Bus</td>
										<td>Julia Hardaker</td>
										<td>Andrew King</td>
									</tr>
									<tr>
										<td>Wellington</td>
										<td>New Zealand</td>
										<td>381.9</td>
										<td>true</td>
										<td>Bus,Train,Ferry,Cable Car</td>
										<td>Celia Wade-Brown</td>
										<td>Justin Lester</td>
									</tr>
									<tr>
										<td>Christchurch</td>
										<td>New Zealand</td>
										<td>363.926</td>
										<td>false</td>
										<td>Bus</td>
										<td>Bob Parker</td>
										<td>Lianne Dalziel</td>
									</tr>
									<tr>
										<td>Dunedin</td>
										<td>New Zealand</td>
										<td>114.347</td>
										<td>false</td>
										<td>Bus</td>
										<td>Dave Cull</td>
										<td>Dave Cull</td>
									</tr>
									<tr>
										<td>Tauranga</td>
										<td>New Zealand</td>
										<td>110.338</td>
										<td>false</td>
										<td>Bus</td>
										<td>Stuart Crosby</td>
										<td>Greg Brownless</td>
									</tr>
								</tbody></table></samp>
						</div>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="analyser-combinedata">combineData</h4>

					<code class="code code--block">combineData(...dataConfigs)</code>

					<p><code>combineData</code> takes in any number of <code>dataConfig</code> objects, and outputs a single combined <code>dataConfig</code> object.</p>

					<p>All rows and relevant associated objects (e.g. aliases, enums) are combined, with the assumption that there are no rows duplicated between different configs. Only columns shared by each <code>dataConfig</code> object's set of columns are kept in the combined output; any columns that are not shared by each <code>dataConfig</code> will be discarded.</p>

					<p>(city example.csv, city example 2.csv)</p>
				</div>

				<div class="docs-example">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code">let fileConfigA = {
	headerRows: 1,
	cols: Analyser.getColNumbers({
		NAME: 'A',
		COUNTRY: 'B',
		POPULATION: 'C',
		CAPITAL: 'D'
	}),
	aliases: {
		COUNTRY: [
			['New Zealand', 'Aotearoa']
		]
	}
};
let filePathA = '/charter/app/docs/data/city example.csv';

let fileConfigB = {
	headerRows: 1,
	cols: Analyser.getColNumbers({
		NAME: 'A',
		COUNTRY: 'B',
		POPULATION: 'C'
	})
};
let filePathB = '/charter/app/docs/data/city example 2.csv';

let filesLoaded = function (dataConfigA, dataConfigB) {
	let combinedDataConfig = Analyser.combineData(dataConfigA, dataConfigB);
	analyseCombinedData(combinedDataConfig);
};

let analyseCombinedData = function (dataConfig) {
	let rows = dataConfig.rows;
	let cols = dataConfig.cols;

	// Do stuff with the combined data from both files here

	let table = rows.createSubTableString(cols);
	console.log(table);
};

Analyser.loadFile(
	filePathA, fileConfigA,
	filePathB, fileConfigB,
	filesLoaded
);</code>
					</div>

					<div class="docs-example__output-container">
						<samp class="code code--block docs-example__output"><table class="code__entry table"><thead>
									<tr>
										<th>NAME</th>
										<th>COUNTRY</th>
										<th>POPULATION</th>
									</tr>
								</thead><tbody>
									<tr>
										<td>Auckland</td>
										<td>New Zealand</td>
										<td>1614</td>
									</tr>
									<tr>
										<td>Taup≈ç</td>
										<td>Aotearoa</td>
										<td>32.907</td>
									</tr>
									<tr>
										<td>Hamburg</td>
										<td>Germany</td>
										<td>1810</td>
									</tr>
									<tr>
										<td>Sydney</td>
										<td>Australia</td>
										<td>4841</td>
									</tr>
									<tr>
										<td>Hamilton</td>
										<td>New Zealand</td>
										<td>161.2</td>
									</tr>
									<tr>
										<td>Wellington</td>
										<td>New Zealand</td>
										<td>381.9</td>
									</tr>
									<tr>
										<td>Christchurch</td>
										<td>New Zealand</td>
										<td>363.926</td>
									</tr>
									<tr>
										<td>Dunedin</td>
										<td>New Zealand</td>
										<td>114.347</td>
									</tr>
									<tr>
										<td>Tauranga</td>
										<td>New Zealand</td>
										<td>110.338</td>
									</tr>
									<tr>
										<td>Semarang</td>
										<td>Indonesia</td>
										<td>1556</td>
									</tr>
									<tr>
										<td>Islamabad</td>
										<td>Pakistan</td>
										<td>1015</td>
									</tr>
									<tr>
										<td>New Taipei City</td>
										<td>Taiwan</td>
										<td>3972</td>
									</tr>
									<tr>
										<td>Nagoya</td>
										<td>Japan</td>
										<td>2296</td>
									</tr>
								</tbody></table></samp>
					</div>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="analyser-getcolnumber">getColNumber</h4>

					<code class="code code--block">getColNumber(colName)</code>

					<p>Converts the letter-based name of a column, as commonly used in spreadsheet software, into an integer index.</p>

					<p>If a value passed in cannot be converted in this way, <code>null</code> will be returned.</p>

					<p>Typically, it is easier to use <code>getColNumbers</code> when creating a <code>cols</code> object for a <code>fileConfig</code>.</p>

					<p><code>colName</code> is a string representing the letter-based name of a column. It is <b>not</b> case sensitive.</p>
				</div>

				<div class="docs-example js-doc-example">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code js-doc-example-code">let cols = {
	NAME: Analyser.getColNumber('A'),
	COUNTRY: Analyser.getColNumber('B'),
	POPULATION: Analyser.getColNumber('C'),
	OTHER_COL: Analyser.getColNumber('HV'),
	BROKEN_COL: Analyser.getColNumber('This is broken because it contains spaces')
};

console.log(cols);</code>
					</div>

					<div class="docs-example__output-container">
						<samp class="code code--block docs-example__output js-doc-example-output"></samp>
					</div>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="analyser-getcolnumbers">getColNumbers</h4>

					<code class="code code--block">getColNumbers(colObject)</code>

					<p>Takes in a flat object where the value of each property is a string that could be parsed by <code>getColNumber</code>, and returns a new object in which each property has been transformed into the appropriate integer index.</p>

					<p>This function is typically only used to create the <code>cols</code> object for a <code>fileConfig</code>.</p>

					<p>Non-negative integers will not be converted, and will maintain their value. Anything else will not be included in the object returned by <code>getColNumbers</code>.</p>
				</div>

				<div class="docs-example js-doc-example">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code js-doc-example-code">let cols = Analyser.getColNumbers({
	NAME: 'A',
	COUNTRY: 'B',
	POPULATION: 'C',
	OTHER_COL: 'HV',
	BROKEN_COL: 'This is broken because it contains spaces',
	NON_NEGATIVE_INTEGERS_WORK: 3
});

console.log(cols);</code>
					</div>

					<div class="docs-example__output-container">
						<samp class="code code--block docs-example__output js-doc-example-output"></samp>
					</div>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="analyser-getcol">getCol</h4>

					<code class="code code--block">rows.getCol(colNum)</code>
					<code class="code code--block">Analyser.getCol(rows, colNum)</code>

					<p>Returns a single array representing the values of a single column for a set of rows of processed data.</p>

					<p><code>rows</code> is an array of rows from a <code>dataConfig</code> object.</p>

					<p><code>colNum</code> is the index of a column, typically represented by an element of the <code>cols</code> object from a <code>dataConfig</code> object.</p>

					<p>(city example.csv)</p>
				</div>

				<div class="docs-example js-doc-example">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code js-doc-example-code">let rows = dataConfig.rows;
let cols = dataConfig.cols;

let cityNames = rows.getCol(cols.NAME);

console.log(cityNames);</code>
					</div>

					<div class="docs-example__output-container">
						<samp class="code code--block docs-example__output js-doc-example-output"></samp>
					</div>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="analyser-addcol">addCol</h4>

					<code class="code code--block">rows.addCol(col)</code>
					<code class="code code--block">Analyser.addCol(rows, col)</code>

					<p>Adds a new column to the set of rows, and returns the index of the new column so it can be added to the <code>cols</code> object and used to continue accessing the new column.</p>

					<p><code>rows</code> is an array of rows from a <code>dataConfig</code> object.</p>

					<p><code>col</code> is an array of the same length as <code>rows</code>.</p>

					<p>(city example 3.csv)</p>
				</div>

				<div class="docs-example js-doc-example" data-method-input="city example 3.csv">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code js-doc-example-code">let rows = dataConfig.rows;
let cols = dataConfig.cols;

let previousYearPopulation = rows.getCol(cols.POPULATION);

previousYearPopulation.pop();
rows.shift();

cols.POPULATION_PREVIOUS = rows.addCol(previousYearPopulation);

let subCols = {
	NAME: cols.NAME,
	POP: cols.POPULATION,
	POP_PREV: cols.POPULATION_PREVIOUS
};

let table = rows.createSubTable(subCols);
console.table(table);</code>
					</div>

					<div class="docs-example__output-container">
						<samp class="code code--block docs-example__output js-doc-example-output"></samp>
					</div>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="analyser-getderivedcol">getDerivedCol</h4>

					<code class="code code--block">rows.getDerivedCol(processFn, ...cols)</code>
					<code class="code code--block">Analyser.getDerivedCol(rows, processFn, ...cols)</code>

					<p>Creates a column of data that is the result of passing an individual row and any number of optional values from specified columns into a processing function. This does not modify the existing <code>rows</code> data.</p>

					<p><code>rows</code> is an array of rows from a <code>dataConfig</code> object.</p>

					<p><code>processFn</code> is a function of the form <code>fn(row, optionalValue1, optionalValue2, optionalValueN)</code></p>

					<p><code>...cols</code> is any number of column arrays passed as additional arguments. These can be created for example by the <code>getCol</code> or <code>getDerivedCol</code> methods. Because columns that already exist as part of the <code>rows</code> object, and can therefore be accessed that way, these parameters are only necessary for previously created derived columns that have not been added to the rows via <code>addDerivedCol</code>.</p>

					<p>The values passed through to the <code>optionalValue1, optionalValue2, optionalValueN</code> arguments correspond to the values at the current row for the optional specified columns.</p>

					<p>(city example.csv)</p>
				</div>

				<div class="docs-example js-doc-example">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code js-doc-example-code">let rows = dataConfig.rows;
let cols = dataConfig.cols;

let getRawPopulation = function (row) {
	// The population column in the spreadsheet is in thousands
	return row[cols.POPULATION] * 1000;
};

let rawPopulation = rows.getDerivedCol(getRawPopulation);

console.log(rawPopulation);</code>
					</div>

					<div class="docs-example__output-container">
						<samp class="code code--block docs-example__output js-doc-example-output"></samp>
					</div>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="analyser-addderivedcol">addDerivedCol</h4>

					<code class="code code--block">rows.addDerivedCol(processFn, ...cols)</code>
					<code class="code code--block">Analyser.addDerivedCol(rows, processFn, ...cols)</code>

					<p>Creates a new column as per <code>getDerivedCol</code>, then passes it in to <code>addCol</code> and returns the index of the new column.</p>

					<p>(city example.csv)</p>
				</div>

				<div class="docs-example js-doc-example">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code js-doc-example-code">let rows = dataConfig.rows;
let cols = dataConfig.cols;

let getRawPopulation = function (row) {
	// Population stored in thousands
	return row[cols.POPULATION] * 1000;
};

cols.POP_RAW = rows.addDerivedCol(getRawPopulation);

let summaryCols = {
	NAME: cols.NAME,
	POP_RAW: cols.POP_RAW
};

let table = rows.createSubTable(summaryCols);
console.table(table);</code>
					</div>

					<div class="docs-example__output-container">
						<samp class="code code--block docs-example__output js-doc-example-output"></samp>
					</div>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="analyser-createsubtable">createSubTable</h4>

					<code class="code code--block">rows.createSubTable(cols)</code>
					<code class="code code--block">Analyser.createSubTable(rows, cols)</code>

					<p>Creates an object suitable for passing into <code>console.table</code>, using the rows in <code>rows</code> and the columns defined in <code>cols</code>. Depending on the size of your data, it may be useful to create a smaller <code>cols</code> object that does not contain every column to pass in here.</p>

					<p><code>rows</code> is an array of rows from a <code>dataConfig</code> object.</p>

					<p><code>cols</code> is a columns object as created for a <code>fileConfig</code> object.</p>

					<p>(city example.csv)</p>
				</div>

				<div class="docs-example js-doc-example">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code js-doc-example-code">let rows = dataConfig.rows;
let cols = dataConfig.cols;

let summaryCols = {
	NAME: cols.NAME,
	POPULATION: cols.POPULATION
};

let summaryTable = rows.createSubTable(summaryCols);
console.table(summaryTable);</code>
					</div>

					<div class="docs-example__output-container">
						<samp class="code code--block docs-example__output js-doc-example-output"></samp>
					</div>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="analyser-createsubtablestring">createSubTableString</h4>

					<code class="code code--block">rows.createSubTableString(cols)</code>
					<code class="code code--block">Analyser.createSubTableString(rows, cols)</code>

					<p>Calls <code>createSubTable</code> and converts the result into a string that separates cells by tabs and rows by newlines, so it can be copied and pasted into a spreadsheet.</p>

					<p>(city example.csv)</p>
				</div>

				<div class="docs-example js-doc-example">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code js-doc-example-code">let rows = dataConfig.rows;
let cols = dataConfig.cols;

let summaryCols = {
	NAME: cols.NAME,
	POPULATION: cols.POPULATION
};

let summaryTableString = rows.createSubTableString(summaryCols);
console.log(summaryTableString);</code>
					</div>

					<div class="docs-example__output-container">
						<samp class="code code--block docs-example__output js-doc-example-output"></samp>
					</div>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="analyser-getcolsummary">getColSummary</h4>

					<code class="code code--block">rows.getColSummary(cols, aliasList)</code>
					<code class="code code--block">Analyser.getColSummary(rows, cols, aliasList)</code>

					<p>Returns an object containing a count of each time a value occurred in one or more columns, optionally counting values as being the same if specified in an optional set of aliases.</p>

					<p><code>rows</code> is an array of rows from a <code>dataConfig</code> object.</p>

					<p><code>cols</code> is either the index of a single column, or an array of indices of multiple columns. If an array is passed in, the summary object will contain a combined count for all specified columns.</p>

					<p><code>aliasList</code> (optional) is an object specifying aliases as used in a <code>fileConfig</code> object. If an <code>aliasList</code> is passed in, the count in the summary object will combine values in a single alias into the same count, and report them using the label of the alias.</p>

					<p>(city example.csv)</p>
				</div>

				<div class="docs-example js-doc-example">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code js-doc-example-code">let rows = dataConfig.rows;
let cols = dataConfig.cols;
let aliases = dataConfig.aliases;

let countrySummary = rows.getColSummary(cols.COUNTRY);
console.log(countrySummary);

let countrySummaryWithAliases = rows.getColSummary(cols.COUNTRY, aliases.COUNTRY);
console.log(countrySummaryWithAliases);</code>
					</div>

					<div class="docs-example__output-container">
						<samp class="code code--block docs-example__output js-doc-example-output"></samp>
					</div>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="analyser-getcolasdataseries">getColAsDataSeries</h4>

					<code class="code code--block">rows.getColAsDataSeries(col, labels)</code>
					<code class="code code--block">Analyser.getColAsDataSeries(rows, col, labels)</code>

					<p>Returns a <code>dataSeries</code> array as used by <a href="#Charter">Charter</a>. Each element in the output array will be the count of the number of rows containing a value in the specified column that matches the value in the element of the <code>labels</code> array at the same index.</p>

					<p><code>rows</code> is an array of rows from a <code>dataConfig</code> object.</p>

					<p><code>col</code> is the index of a single column.</p>

					<p><code>labels</code> is an array of labels, where each label is a value that appears in some cells in the specified column.</p>

					<p>(city example.csv)</p>
				</div>

				<div class="docs-example js-doc-example">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code js-doc-example-code">let rows = dataConfig.rows;
let cols = dataConfig.cols;

let labels = rows.getCol(cols.COUNTRY);

let dataSeries = rows.getColAsDataSeries(cols.COUNTRY, labels);
console.log(dataSeries);</code>
					</div>

					<div class="docs-example__output-container">
						<samp class="code code--block docs-example__output js-doc-example-output"></samp>
					</div>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="analyser-getcomparisonsummary">getComparisonSummary</h4>

					<code class="code code--block">rows.getComparisonSummary(headerCol, headerAliases, varCol, varAliases)</code>
					<code class="code code--block">Analyser.getComparisonSummary(rows, headerCol, headerAliases, varCol, varAliases)</code>

					<p>Creates an object that can be used with <code>console.table</code> with the values of <code>headerCol</code> used in the header, and the values of <code>varCol</code> used for each row, with the cells denoting the number of times these values coincided.</p>

					<p><code>rows</code> is an array of rows from a <code>dataConfig</code> object.</p>

					<p><code>headerCol</code> is the index of the column whose values will be used for each column in the comparison summary table.</p>

					<p><code>headerAliases</code> (optional) is a set of aliases as used for a <code>fileConfig</code> object, to be applied to the values of <code>headerCol</code>.</p>

					<p><code>varCol</code> is the index of a column whose values will be used for each row in the comparison summary table;</p>

					<p><code>varAliases</code> (optional) is a set of aliases as used for a <code>fileConfig</code> object, to be applied to the values of <code>varCol</code>.</p>

					<p>(city example.csv)</p>
				</div>

				<div class="docs-example js-doc-example">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code js-doc-example-code">let rows = dataConfig.rows;
let cols = dataConfig.cols;
let aliases = dataConfig.aliases;

let capitalTable = rows.getComparisonSummary(cols.COUNTRY, aliases.COUNTRY, cols.CAPITAL);

console.table(capitalTable);</code>
					</div>

					<div class="docs-example__output-container">
						<samp class="code code--block docs-example__output js-doc-example-output"></samp>
					</div>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="analyser-getcomparisonsummarystring">getComparisonSummaryString</h4>

					<code class="code code--block">rows.getComparisonSummaryString(headerCol, headerAliases, varCol, varAliases)</code>
					<code class="code code--block">Analyser.getComparisonSummaryString(rows, headerCol, headerAliases, varCol, varAliases)</code>

					<p>Calls <code>getComparisonSummary</code> and converts the result into a string that separates cells by tabs and rows by newlines, so it can be copied and pasted into a spreadsheet.</p>

					<p>(city example.csv)</p>
				</div>

				<div class="docs-example js-doc-example">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code js-doc-example-code">let rows = dataConfig.rows;
let cols = dataConfig.cols;
let aliases = dataConfig.aliases;

let capitalTableString = rows.getComparisonSummaryString(cols.COUNTRY, aliases.COUNTRY, cols.CAPITAL);

console.log(capitalTableString);</code>
					</div>

					<div class="docs-example__output-container">
						<samp class="code code--block docs-example__output js-doc-example-output"></samp>
					</div>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="analyser-savecomparisonsummarycsv">saveComparisonSummaryCsv</h4>

					<code class="code code--block">saveComparisonSummaryCsv(filename, rows, headerCol, headerAliases, varCol, varAliases)</code>

					<p>Calls <code>getComparisonSummary</code> and converts the result into a CSV, which is then automatically downloaded.</p>

					<p>(city example.csv)</p>
				</div>

				<div class="docs-example">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code">let rows = dataConfig.rows;
let cols = dataConfig.cols;
let aliases = dataConfig.aliases;

let capitalTableString = Analyser.saveComparisonSummaryCsv('Capital cities.csv', rows, cols.COUNTRY, aliases.COUNTRY, cols.CAPITAL);</code>
					</div>
				</div>
			</section>

			<div class="content">
				<h3 id="analyser-fileconfig">fileConfig</h3>

				<p>A <code>fileConfig</code> object is required by the <code>loadFile</code> function, and is used to determine how the data in a file is processed. It contains the following properties:</p>
			</div>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="analyser-fileconfig-headerrows">headerRows</h4>

					<p><code>headerRows</code> (optional) is the number of rows at the top of the CSV file that are not part of the data. These rows will be ignored when Analyser processes the file.</p>

					<p>If not included, defaults to 0.</p>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="analyser-fileconfig-footerrows">footerRows</h4>

					<p><code>footerRows</code> (optional) is the number of rows at the bottom of the CSV file that are not part of the data. These rows will be ignored when Analyser processes the file.</p>

					<p>If not included, defaults to 0.</p>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 id="analyser-fileconfig-cols">cols</h4>

					<p><code>cols</code> is an object where each key is the label to use for a column, and the value is the index of the column. <code>Analyser.getColNumbers</code> can be used to convert letter-based spreadsheet column labels to numbers.</p>

					<p>You don't need to include every column that is in a spreadsheet in the cols object. Any that you don't include will be ignored when processing the data, and not included in the output.</p>
				</div>

				<div class="docs-example docs-example--code-only">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code docs-example--code-only">let cols = Analyser.getColNumbers({
	NAME: 'A',
	COUNTRY: 'B',
	POPULATION: 'C',
	CAPITAL: 'D'
});</code>
					</div>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="analyser-fileconfig-arraycols">arrayCols</h4>

					<p><code>arrayCols</code> is an object where each element's key is the index of a column, and its value is either null or a string.</p>

					<p>It represents the columns in a CSV whose cells contain multiple values, separated by some delimiter. The value of an <code>arrayCols</code> element is the delimiter used to separate values in these cells. If a delimiter is not defined here, a single space character is used by default.</p>
				</div>

				<div class="docs-example docs-example--code-only">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code docs-example--code-only">// Assuming cells in the PUBLIC_TRANSPORT column
// can have values such as 'Bus,Train'

let arrayCols = {};
arrayCols[fileConfig.cols.PUBLIC_TRANSPORT] = ',';</code>

					</div>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="analyser-fileconfig-defaultcolvalues">defaultColValues</h4>

					<p><code>defaultColValues</code> is an object where each element's key is the index of a column, and its value is any value.</p>

					<p>It represents the default values in each column of a CSV which should be ignored. For example, if the character "-" is used to represent 0 in data counting a number of incidents, then that value should be ignored. The <code>defaultColValues</code> object can be used in conjunction with <a href="#analyser-fileconfig-defaultcols">defaultCols</a> to assign a useful value to these cells in cases where they should not just be ignored.</p>

					<p>If a column is set as an array column, any specified default value will be ignored.</p>
				</div>

				<div class="docs-example docs-example--code-only">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code docs-example--code-only">
let defaultColValues = {};
defaultColValues[fileConfig.cols.CAPITAL] = '-';</code>

					</div>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="analyser-fileconfig-defaultcols">defaultCols</h4>

					<p><code>defaultCols</code> is an object where each element's key is the index of a column, and its value is any value.</p>

					<p>It represents the columns in a CSV whose cells should have a default value in the case that the cell in the CSV is empty. For example, where numeric data is represented in a CSV, an empty cell may signify a value of 0.</p>

					<p>If a default value is not specified, the value of an empty cell will be represented as an empty string.</p>

					<p>If a column is set as an array column, any specified default value will be ignored and an empty array will be used instead.</p>
				</div>

				<div class="docs-example docs-example--code-only">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code docs-example--code-only">
let defaultCols = {};
defaultCols[fileConfig.cols.CAPITAL] = false;</code>

					</div>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="analyser-fileconfig-aliases">aliases</h4>

					<p><code>aliases</code> (optional) is an object where each property, which must share its name with a column as defined in the <code>cols</code> object, is an array of arrays. Each array represents a set of values that should be considered to belong to the same set.</p>

					<p>The first value in an array of aliases should be considered the label of the set of aliases. This label does not need to appear in the data itself.</p>

					<p>A value can appear in multiple alias arrays. If it does, it may be counted multiple times as it will be considered a member of all sets simultaneously.</p>
				</div>

				<div class="docs-example docs-example--code-only">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code">let aliases = {
	COUNTRY: [
		['New Zealand', 'Aotearoa']
	]
};</code>
					</div>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="analyser-fileconfig-enumsmap">enumsMap</h4>

					<p><code>enumsMap</code> (optional) is an object where each property, which must share its name with a column as defined in the <code>cols</code> object, is an array of column indices. This map is used when creating the <code>enums</code> object available when analysing data, and tells the processor that enums from the columns in each array should be combined into the same set.</p>

					<p>In this example, with data from <code>city example.csv</code>, instead of collecting a separate set of enums for both the <code>MAYOR_2012</code> and <code>MAYOR_2018</code> columns, Analyser collects a single set of enums labelled <code>MAYOR</code>. This way there is a single list, and values that exist in both <code>MAYOR_2012</code> and <code>MAYOR_2018</code> columns, such as "Dave Cull", exist only once in the combined set of enums.</p>

					<p>The enums that are collected in data processing this way can be useful in generating labels for graphs, for example.</p>

					<p>(city example.csv)</p>
				</div>

				<div class="docs-example">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code">let fileConfig = {
	headerRows: 1,
	cols: Analyser.getColNumbers({
		NAME: 'A',
		COUNTRY: 'B',
		POPULATION: 'C',
		CAPITAL: 'D',
		PUBLIC_TRANSPORT: 'E',
		MAYOR_2012: 'F',
		MAYOR_2018: 'G'
	}),
	arrayCols: {},
	defaultCols: {},
	aliases: {
		COUNTRY: [
			['New Zealand', 'Aotearoa']
		]
	},
	enumsMap: {}
};

fileConfig.arrayCols[fileConfig.cols.PUBLIC_TRANSPORT] = ',';
fileConfig.arrayCols[fileConfig.cols.MAYOR_2018] = ',';

fileConfig.defaultCols[fileConfig.cols.CAPITAL] = false;

fileConfig.enumsMap.MAYOR = [fileConfig.cols.MAYOR_2012, fileConfig.cols.MAYOR_2018];

let exploreData = function (dataConfig) {
	console.log(dataConfig.enums);
};

Analyser.loadFile(baseUrl + 'docs/data/city example.csv', fileConfig, exploreData);</code>
					</div>

					<div class="docs-example__output-container">
						<samp class="code code--block docs-example__output">// dataConfig.enums
{
	'CAPITAL': [
		'false', 'true'
	],
	'COUNTRY': [
		'New Zealand', 'Aotearoa', 'Germany', 'Australia'
	],
	'MAYOR': [
		'Len Brown', 'Phil Goff', 'Rick Cooper', 'David Trewavas', 'Olaf Scholz', 'Katharina Fegebank', 'Peter Tschentscher', 'Clover Moore', 'Julia Hardaker', 'Andrew King', 'Celia Wade-Brown', 'Justin Lester', 'Bob Parker', 'Lianne Dalziel', 'Dave Cull', 'Stuart Crosby', 'Greg Brownless'
	],
	NAME: [
		'Auckland', 'Taup≈ç', 'Hamburg', 'Sydney', 'Hamilton', 'Wellington', 'Christchurch', 'Dunedin', 'Tauranga'
	],
	'POPULATION': [
		1614, 32.907, 1810, 4841, 161.2, 381.9, 363.926, 114.347, 110.338
	],
	'PUBLIC_TRANSPORT': [
		'Bus', 'Train', 'Ferry', 'Cable Car'
	]
}</samp>
					</div>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="analyser-fileconfig-uniqueCols">uniqueCols</h4>

					<p><code>uniqueCols</code> (optional) is an array where each element is the index of a column. All columns included in this array will not have their enums gathered.</p>

					<p>This is particularly useful for ID columns, as well as columns that may not have unique values between each column but still do not need to be collated, such as columns containing dates.</p>
				</div>

				<div class="docs-example docs-example--code-only">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code">let uniqueCols = [
	fileConfig.cols.NAME,
	fileConfig.cols.MAYOR,
	fileConfig.cols.POPULATION
];</code>
					</div>
				</div>
			</section>

			<div class="content">
				<h3 id="analyser-dataconfig">dataConfig</h3>

				<p>A <code>dataConfig</code> object is created by data processing functions, and is used for analysing processed data. It contains the following properties:</p>
			</div>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="analyser-dataconfig-cols">cols</h4>

					<p><code>cols</code> is the cols object from the <code>fileConfig</code> passed in to <code>loadFile</code>.</p>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="analyser-dataconfig-rows">rows</h4>

					<p><code>rows</code> is an Array-like object, where each element is an array that represents a row in the processed CSV and each element in an inner array represents a cell in the processed CSV. The index of each element in a row is determined by the value associated with its column in the <code>cols</code> object, and should be accessed using it:</p>

					<p>(city example.csv)</p>
				</div>

				<div class="docs-example js-doc-example">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code js-doc-example-code">let rows = dataConfig.rows;
let cols = dataConfig.cols;

let firstRowName = rows[0][cols.NAME];

console.log(firstRowName);</code>
					</div>

					<div class="docs-example__output-container">
						<samp class="code code--block docs-example__output js-doc-example-output"></samp>
					</div>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="analyser-dataconfig-aliases">aliases</h4>

					<p><code>aliases</code> is the aliases object from the <code>fileConfig</code> used to process this data. See the section on <a href="#analyser-filters">filters</a> for examples on how aliases can be used once the data has been processed.</p>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="analyser-dataconfig-enums">enums</h4>

					<p><code>enums</code> is an object where each element, which shares a name with each element of the <code>cols</code> object, is an array of all values that can be found in that column. If an <code>enumsMap</code> is used, enums collected for multiple columns can be combined into one set.</p>

					<p>(city example.csv)</p>
				</div>

				<div class="docs-example docs-example--code-only">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code">// dataConfig.enums
{
	NAME: [
		'Auckland', 'Taup≈ç', 'Hamburg', 'Sydney', 'Hamilton', 'Wellington', 'Christchurch', 'Dunedin', 'Tauranga'
	],
	'COUNTRY': [
		'New Zealand', 'Aotearoa', 'Germany', 'Australia'
	],
	'POPULATION': [
		1614, 32.907, 1810, 4841, 161.2, 381.9, 363.926, 114.347, 110.338
	],
	'CAPITAL': [
		'false', 'true'
	],
	'PUBLIC_TRANSPORT': [
		'Bus', 'Train', 'Ferry', 'Cable Car'
	],
	'MAYOR': [
		'Len Brown', 'Phil Goff', 'Rick Cooper', 'David Trewavas', 'Olaf Scholz', 'Katharina Fegebank', 'Peter Tschentscher', 'Clover Moore', 'Julia Hardaker', 'Andrew King', 'Celia Wade-Brown', 'Justin Lester', 'Bob Parker', 'Lianne Dalziel', 'Dave Cull', 'Stuart Crosby', 'Greg Brownless'
	]
}</code>
					</div>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="analyser-filters">filters</h4>

					<p>A set of filter functions are exposed on the <code>rows</code> object.</p>

					<p>These functions are also exposed via the <code>filters</code> property on the <code>dataConfig</code> object, where they expect a <code>rows</code> object to be passed as their first argument.</p>

					<p>These filter functions use the aliases from the <code>fileConfig</code> object used to process this data. The filter functions available are:</p>
				</div>

				<section>
					<div class="content">
						<h5 id="analyser-filters-filter">filter</h5>

						<code class="code code--block">rows.filter(orToggle, colIndex1, values1, colIndex2, values2, colIndexN, valuesN)</code>
						<code class="code code--block">dataConfig.filters.filterRows(rows, orToggle, colIndex1, values1, colIndex2, values2, colIndexN, valuesN)</code>

						<p>Filters a set of rows, using either an OR filter or an AND filter, by looking at the values of one or more specified columns. These column indices and values are passed as one or more pairs.</p>

						<p>If a column was specified in the <code>arrayCols</code> object in the <code>fileConfig</code> that informed how this data was processed, <code>filter</code> will check all values in each of its cells, and if any of them match then the row will pass the filter.</p>

						<p>It returns a new <code>rows</code> array.</p>

						<p><code>rows</code> is an array of rows from a <code>dataConfig</code> object.</p>

						<p><code>orToggle</code> (optional) is a boolean value specifying whether or not the filter should be an OR filter. Defaults to false if not passed.</p>

						<p><code>colIndex1, &hellip;, colIndex2, &hellip;, colIndexN</code> are each the index of columns. Any number of them may be passed, but they must each be matched by a values argument.</p>

						<p><code>values1, &hellip;, values2, &hellip;, valuesN</code> are each either a single value to filter by, an array of values to filter by (if the value of a cell matches any value in this array, it will pass the filter), or a function that takes in the value of a cell and returns a boolean value.</p>

						<p>(city example.csv)</p>
					</div>

					<div class="docs-example js-doc-example">
						<div class="docs-example__code-container">
							<code class="code code--block docs-example__code js-doc-example-code">let rows = dataConfig.rows;
let cols = dataConfig.cols;

// Filtering a single column by a single value, using aliases
let newZealandCities = rows.filter(
	cols.COUNTRY, 'New Zealand'
);
console.log(newZealandCities.getCol(cols.NAME));</code>
						</div>

						<div class="docs-example__output-container">
							<samp class="code code--block docs-example__output js-doc-example-output"></samp>
						</div>
					</div>

					<div class="docs-example js-doc-example">
						<div class="docs-example__code-container">
							<code class="code code--block docs-example__code js-doc-example-code">let rows = dataConfig.rows;
let cols = dataConfig.cols;

// Filtering an array column
let citiesWithTrains = rows.filter(
	cols.PUBLIC_TRANSPORT, 'Train'
);
console.log(citiesWithTrains.getCol(cols.NAME));</code>
						</div>

						<div class="docs-example__output-container">
							<samp class="code code--block docs-example__output js-doc-example-output"></samp>
						</div>
					</div>

					<div class="docs-example js-doc-example">
						<div class="docs-example__code-container">
							<code class="code code--block docs-example__code js-doc-example-code">let rows = dataConfig.rows;
let cols = dataConfig.cols;

// Filtering a single column by multiple values
let australasiaCities = rows.filter(
	cols.COUNTRY, ['New Zealand', 'Australia']
);
console.log(australasiaCities.getCol(cols.NAME));</code>
						</div>

						<div class="docs-example__output-container">
							<samp class="code code--block docs-example__output js-doc-example-output"></samp>
						</div>
					</div>

					<div class="docs-example js-doc-example">
						<div class="docs-example__code-container">
							<code class="code code--block docs-example__code js-doc-example-code">let rows = dataConfig.rows;
let cols = dataConfig.cols;

// Filtering with a function
let largerCities = rows.filter(
	cols.POPULATION, a => a >= 300
);
console.log(largerCities.getCol(cols.NAME));</code>
						</div>

						<div class="docs-example__output-container">
							<samp class="code code--block docs-example__output js-doc-example-output"></samp>
						</div>
					</div>

					<div class="docs-example js-doc-example">
						<div class="docs-example__code-container">
							<code class="code code--block docs-example__code js-doc-example-code">let rows = dataConfig.rows;
let cols = dataConfig.cols;

// Applying multiple filters (AND)
let largeCapitalCities = rows.filter(
	cols.POPULATION, a => a >= 300,
	cols.CAPITAL, a => a === 'true'
);
console.log(largeCapitalCities.getCol(cols.NAME));</code>
						</div>

						<div class="docs-example__output-container">
							<samp class="code code--block docs-example__output js-doc-example-output"></samp>
						</div>
					</div>

					<div class="docs-example js-doc-example">
						<div class="docs-example__code-container">
							<code class="code code--block docs-example__code js-doc-example-code">let rows = dataConfig.rows;
let cols = dataConfig.cols;

// Applying multiple filters (OR)
let veryLargeOrCapitalCities = rows.filter( true,
	cols.POPULATION, a => a >= 1000,
	cols.CAPITAL, a => a === 'true'
);
console.log(veryLargeOrCapitalCities.getCol(cols.NAME));</code>
						</div>

						<div class="docs-example__output-container">
							<samp class="code code--block docs-example__output js-doc-example-output"></samp>
						</div>
					</div>
				</section>

				<section>
					<div class="content">
						<h5 id="analyser-filters-filterand">filterAnd</h5>

						<code class="code code--block">rows.filterAnd(colIndex1, values1, colIndex2, values2, colIndexN, valuesN)</code>
						<code class="code code--block">dataConfig.filters.filterRowsAnd(rows, colIndex1, values1, colIndex2, values2, colIndexN, valuesN)</code>

						<p>Identical to the <code>filter</code> function, but without the <code>andToggle</code> argument. Because this parameter of <code>filter</code> defaults to true, <code>filter</code> can be used in exactly the same way as <code>filterAnd</code>.</p>

						<p>(city example.csv)</p>
					</div>

					<div class="docs-example js-doc-example">
						<div class="docs-example__code-container">
							<code class="code code--block docs-example__code js-doc-example-code">let rows = dataConfig.rows;
let cols = dataConfig.cols;

let newZealandCapital = rows.filterAnd(
	cols.COUNTRY, 'New Zealand',
	cols.CAPITAL, a => a === 'true'
);
console.log(newZealandCapital.getCol(cols.NAME));</code>
						</div>

						<div class="docs-example__output-container">
							<samp class="code code--block docs-example__output js-doc-example-output"></samp>
						</div>
					</div>
				</section>

				<section>
					<div class="content">
						<h5 id="analyser-filters-filteror">filterOr</h5>

						<code class="code code--block">filterOr(colIndex1, values1, colIndex2, values2, colIndexN, valuesN)</code>
						<code class="code code--block">dataConfig.filters.filterRowsOr(rows, colIndex1, values1, colIndex2, values2, colIndexN, valuesN)</code>

						<p>Identical to the <code>filter</code> function, but without the <code>andToggle</code> argument and applying an OR filter.</p>

						<p>(city example.csv)</p>
					</div>

					<div class="docs-example js-doc-example">
						<div class="docs-example__code-container">
							<code class="code code--block docs-example__code js-doc-example-code">let rows = dataConfig.rows;
let cols = dataConfig.cols;

let largeOrCapitalCities = rows.filterOr(
	cols.POPULATION, a => a >= 1000,
	cols.CAPITAL, a => a === 'true'
);
console.log(largeOrCapitalCities.getCol(cols.NAME));</code>
						</div>

						<div class="docs-example__output-container">
							<samp class="code code--block docs-example__output js-doc-example-output"></samp>
						</div>
					</div>
				</section>
			</section>
		</section>

		<section class="docs-section">
			<div class="content">
				<h2 class="docs-section__title" id="charter">Charter</h2>

				<h3>Use</h3>

				<p>Charter contains methods for generating HTML charts. These charts are intended to be accompanied by the CSS generated for them via <code>_chart.scss</code>.</p>

				<p>These methods take in a <code>chartData</code> object, a <code>numericAxisConfig</code> for the independent axis, and a <code>qualitativeAxisConfig</code> for the dependent axis. The <code>chartData</code> object in turn contains an array of <code>dataSeries</code> objects.</p>

				<p>Some properties of these objects are only used by some types of charts.</p>
			</div>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="charter-chartdata">chartData</h4>

					<div class="docs-example docs-example--code-only">
						<div class="docs-example__code-container">
							<code class="code code--block docs-example__code">{
	title: 'Chart title',
	showLegend: true,
	showTooltips: true,
	labels: ['Label 1', 'Label 2'],
	dataSeries: [
		{
			name: 'dataSeriesName',
			color: '#fff',
			dataPoints: [1, 2]
		}
	],
	stacked: true,
	horizontal: true,
	smoothing: 2
}</code>
						</div>
					</div>

					<p><code>title</code> is a string that will appear above the chart.</p>

					<p><code>showLegend</code> is a boolean value that, if true, will cause a legend to be rendered between the title and the chart.</p>

					<p><code>showTooltips</code> is a boolean value used only for bar charts. If true, the value of each bar will always be display at the end of each bar.</p>

					<p>If false, this value will only be shown when a bar is hovered over or is clicked on (the tooltip will remain shown so long as the bar retains keyboard focus).</p>

					<p><code>labels</code> is an array of strings to be used as the labels on the independent axis.</p>

					<p><code>dataSeries</code> is an array of <code>dataSeries</code> objects.</p>

					<p><code>stacked</code> is a boolean value used only for bar charts. If true, multiple <code>dataSeries</code> will be displayed as bars stacked on top of one another, instead the default display of having them next to each other within the same label.</p>

					<p><code>horizontal</code> is a boolean value used only for bar charts. If true, the independent axis will be the vertical axis, with bars extending from left to right instead of from top to bottom.</p>

					<p><code>smoothing</code> is an integer used only for line graphs and scatter plots. If set, the data will be smoothed using a rolling average of the specified size.</p>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="charter-chartdata-dataseries">dataSeries</h4>

					<div class="docs-example docs-example--code-only">
						<div class="docs-example__code-container">
							<code class="code code--block docs-example__code">{
	name: 'dataSeriesName',
	color: '#fff',
	dataPoints: [1, 2]
}</code>
						</div>
					</div>

					<p><code>name</code> is a string that will be used in a legend if one is shown.</p>

					<p><code>color</code> is the colour used to denote the data in this <code>dataSeries</code> on the chart. If unset, it will default to the colour set in the CSS (#999 in this project).</p>

					<p><code>dataPoints</code> is an array where each element is a number or an object, representing the data you want to draw on the chart.</p>

					<p>If a dataPoint is a number, it will inherit its colour from its dataSeries.</p>

					<p>If a dataPoint is an object, it expects to have its number specified as the <code>value</code> property. It will inherit its colour from its dataSeries by default, but this can be overridden via a <code>color</code> property.</p>

					<p>In a line graph, specifying the colour of an individual dataPoint will affect the colour of the hover/focus bubble and tooltip border for that point, but not the line itself.</p>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="charter-chartdata-numericaxisconfig">numericAxisConfig</h4>
				</div>

				<div class="docs-example docs-example--code-only">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code">{
	label: 'Axis title',

	values: 5,
	valuesAt: [],
	gridlines: null,

	toFixed: 0,
	percentage: false,

	roundTo: null,

	min: 0,
	max: null
}</code>
				</div>

				<div class="content">
					<p><code>label</code> is a string that will be used for the label of the axis.</p>

					<p><code>values</code> is an integer, representing the number of values to show on the axis. This number excludes the minimum value, which will always be shown. These values will be evenly spread between the maxiumum and the minimum. <code>values</code> must be at least 1, which would result in only the minimum and maximum values being shown.</p>

					<p><code>valuesAt</code> is an array that can be used to specify specific values should be shown on the axis. These values are displayed in addition to those already displayed based on the <code>values</code> option.</p>

					<p><code>gridlines</code> is an integer, representing the number of evenly gridlines to be displayed. By default, this will be the same as the value of <code>values</code>. Additional values inserted via the <code>valuesAt</code> option will always get their own gridline, regardless of this option.</p>

					<p><code>toFixed</code> is an integer, representing the number of significant figures to display for the numbers in the graph.</p>

					<p><code>percentage</code> is a boolean, representing whether or not the numbers in the graph should be treated as percentages. If true, numbers between 0 and 1 will be treated as though they were between 0% and 100%, and the labels will be updated accordingly.</p>

					<p><code>roundTo</code> is a number, which all the values labeled on the axis should be round to. By default, it will be calculated as the power of 10 at the same order of magnitude as the maximum value. For example, if the largest value is 4,841, then <code>roundTo</code> would automatically be set to 1,000.</p>

					<p><code>min</code> is the minimum number to display on the axis. If set to null, it will be calculated based on the data displayed in the graph.</p>

					<p><code>max</code> is the maximum number to display on the axis. By default, or if set to null, it will be calculated based on the data displayed in the graph.</p>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="charter-chartdata-qualitativeaxisconfig">qualitativeAxisConfig</h4>
				</div>

				<div class="docs-example docs-example--code-only">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code">{
	label: 'Axis title',

	valuesEvery: 1,
	valuesSkip: 0,

	gridlinesEvery: null,
	gridlinesSkip: null
}</code>
					</div>
				</div>

				<div class="content">
					<p><code>label</code> is a string that will be used for the label of the axis.</p>

					<p><code>valuesEvery</code> is an integer, representing the rate at which a label should be shown for each value along the axis. If set to 1, all values will have a label. If set to 2, only every second value will have a label.</p>

					<p><code>valuesSkip</code> is an integer, representing the number of labels to skip at the start of the axis. Not supported for bar graphs.</p>

					<p><code>gridlinesEvery</code> is an integer, representing the rate at which gridlines should be shown for each value along the axis. If set to null, its value will be inherited from <code>valuesEvery</code>.</p>

					<p><code>gridlinesSkip</code> is an integer, representing the number of gridlines to skip at the start of the axis. If set to null, its value will be inherited from <code>valuesSkip</code>. Not supported for bar graphs.</p>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="charter-createtable">createTable</h4>

					<code class="code code--block">createTable(rows, cols)</code>

					<p>Creates an HTML string of a table containing the data it received.</p>

					<p><code>rows</code> is an array of rows from a <code>dataConfig</code> object.</p>

					<p><code>cols</code> is a columns object as created for a <code>fileConfig</code> object.</p>

					<p>(city example 3.csv)</p>

				</div>

				<div class="docs-example docs-example--chart-output js-doc-example">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code js-doc-example-code-chart">let rows = dataConfig.rows;
let cols = dataConfig.cols;

let table = Charter.createTable(rows, cols);

return table;</code>
					</div>

					<div class="docs-example__output-container">
						<div class="panel js-doc-example-output"></div>
					</div>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="charter-createbarchart">createBarChart</h4>

					<code class="code code--block">createBarChart(chartData, dependentAxisConfig, independentAxisConfig)</code>

					<p>Creates a jQuery object of an element containiner a bar chart, which can be inserted into the DOM.</p>

					<p><code>chartData</code> is a <code>chartData</code> object.</p>

					<p><code>dependentAxisConfig</code> is a <code>numericAxisConfig</code> object.</p>

					<p><code>independentAxisConfig</code> is a <code>qualitativeAxisConfig</code> object.</p>

					<p>(city example.csv)</p>
				</div>

				<div class="docs-example docs-example--chart-output js-doc-example">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code js-doc-example-code-chart">let rows = dataConfig.rows;
let cols = dataConfig.cols;

let cityNames = rows.getCol(cols.NAME);

let chartData = {
	title: 'City Populations',
	showTooltips: true,
	labels: cityNames,
	dataSeries: [
		{
			dataPoints: rows.getCol(cols.POPULATION)
		}
	]
};

let dependentAxisConfig = {
	label: 'Population',
	horizontal: true,
	roundTo: 100,
	max: 6000,
	values: 2
};

let chart = Charter.createBarChart(chartData, dependentAxisConfig);

return chart;</code>
					</div>

					<div class="docs-example__output-container">
						<div class="panel js-doc-example-output"></div>
					</div>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="charter-createlinegraph">createLineGraph</h4>

					<code class="code code--block">createLineGraph(chartData, dependentAxisConfig, independentAxisConfig)</code>

					<p>Creates a jQuery object of an element containiner a line graph, which can be inserted into the DOM.</p>

					<p><code>chartData</code> is a <code>chartData</code> object.</p>

					<p><code>dependentAxisConfig</code> is a <code>numericAxisConfig</code> object.</p>

					<p><code>independentAxisConfig</code> is a <code>qualitativeAxisConfig</code> object.</p>

					<p>(city example 3.csv)</p>
				</div>

				<div class="docs-example docs-example--chart-output js-doc-example" data-doc-example-input="city example 3.csv">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code js-doc-example-code-chart">let rows = dataConfig.rows;
let cols = dataConfig.cols;

let years = rows.getCol(cols.YEAR);
let population = rows.getCol(cols.POPULATION);

let chartData = {
	title: 'Auckland city population over time',
	showLegend: true,
	labels: years,
	dataSeries: [
		{
			name: 'Population',
			color: '#f00',
			dataPoints: population
		},
		{
			name: 'Population linear fit',
			color: 'rgba(0, 0, 0, 0.5)',
			dataPoints: Stats.linearLeastSquares(population)
		}
	]
};

let dependentAxisConfig = {
	label: 'Population',
	values: 5,
	roundTo: 1000000,
	min: null
};

let independentAxisConfig = {
	label: 'Time',
	valuesEvery: 2
};

let chart = Charter.createLineGraph(
	chartData,
	dependentAxisConfig,
	independentAxisConfig
);

return chart;</code>
					</div>

					<div class="docs-example__output-container">
						<div class="panel js-doc-example-output"></div>
					</div>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="charter-createscatterplot">createScatterPlot</h4>

					<code class="code code--block">createScatterPlot(chartData, dependentAxisConfig, independentAxisConfig)</code>

					<p>Creates a jQuery object of an element containiner a line graph, which can be inserted into the DOM.</p>

					<p><code>chartData</code> is a <code>chartData</code> object.</p>

					<p><code>dependentAxisConfig</code> is a <code>numericAxisConfig</code> object.</p>

					<p><code>independentAxisConfig</code> is a <code>qualitativeAxisConfig</code> object.</p>

					<p>(city example 3.csv)</p>
				</div>

				<div class="docs-example docs-example--chart-output js-doc-example" data-doc-example-input="city example 3.csv">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code js-doc-example-code-chart">let rows = dataConfig.rows;
let cols = dataConfig.cols;

let years = rows.getCol(cols.YEAR);
let population = rows.getCol(cols.POPULATION);

let chartData = {
	title: 'Auckland city population over time',
	showLegend: true,
	labels: years,
	dataSeries: [
		{
			name: 'Population',
			color: '#f00',
			dataPoints: population
		},
		{
			name: 'Population linear fit',
			color: 'rgba(0, 0, 0, 0.5)',
			dataPoints: Stats.linearLeastSquares(population)
		}
	]
};

let dependentAxisConfig = {
	values: 5,
	roundTo: 10000,
	min: null
};

let independentAxisConfig = {
	valuesEvery: 2
};

let chart = Charter.createScatterPlot(
	chartData,
	dependentAxisConfig,
	independentAxisConfig
);

return chart;</code>
					</div>

					<div class="docs-example__output-container">
						<div class="panel js-doc-example-output"></div>
					</div>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="charter-updatebarchart">updateBarChart</h4>

					<code class="code code--block">updateBarChart(chart, data, titleText)</code>

					<p>Updates the values and optionally the title of an existing bar chart.</p>

					<p><code>chart</code> is an <code>Element</code> object.</p>

					<p><code>data</code> is an array of numbers, corresponding to the values of each bar in the chart being updated.</p>

					<p><code>titleText</code> is an optional string to replace the current title of the chart.</p>

					<p>(city example.csv)</p>
				</div>

				<div class="docs-example docs-example--code-only">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code">let rows = dataConfig.rows;
let cols = dataConfig.cols;

let cityNames = rows.getCol(cols.NAME);

let chartData = {
	title: 'City Populations',
	showTooltips: true,
	labels: cityNames,
	dataSeries: [
		{
			dataPoints: rows.getCol(cols.POPULATION)
		}
	]
};

let dependentAxisConfig = {
	roundTo: 100,
	values: 2
};

let chart = Charter.createBarChart(chartData, dependentAxisConfig);

$('#chart-area').append(chart);

window.setTimeout(() => Charter.updateBarChart(chart[0], [1, 2, 3, 4, 5, 6, 7, 8, 9], 'New title'), 1000);</code>
					</div>
				</div>
			</section>
		</section>

		<section class="docs-section">
			<div class="content">
				<h2 class="docs-section__title" id="stats">Stats</h2>

				<h3>Use</h3>

				<p><code>Stats</code> contains a number of utility functions for common tasks when dealing with sets of numbers.</p>
			</div>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="stats-sum">sum</h4>

					<code class="code code--block">sum(values)</code>

					<p>Returns the sum of the set of numbers in the <code>values</code> array.</p>

					<p><code>values</code> is an array of numbers.</p>

					<p>(city example.csv)</p>
				</div>

				<div class="docs-example js-doc-example">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code js-doc-example-code">let rows = dataConfig.rows;
let cols = dataConfig.cols;

let populations = rows.getCol(cols.POPULATION);
let totalPopulation = Stats.sum(populations);

console.log(populations);
console.log(totalPopulation);</code>
					</div>

					<div class="docs-example__output-container">
						<samp class="code code--block docs-example__output js-doc-example-output"></samp>
					</div>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="stats-mean">mean</h4>

					<code class="code code--block">mean(values)</code>

					<p>Calculates the mean average of the set of numbers in the <code>values</code> array.</p>

					<p><code>values</code> is an array of numbers.</p>

					<p>(city example.csv)</p>
				</div>

				<div class="docs-example js-doc-example">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code js-doc-example-code">let rows = dataConfig.rows;
let cols = dataConfig.cols;

let populations = rows.getCol(cols.POPULATION);
let meanPopulation = Stats.mean(populations);

console.log(populations);
console.log(meanPopulation);</code>
					</div>

					<div class="docs-example__output-container">
						<samp class="code code--block docs-example__output js-doc-example-output"></samp>
					</div>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="stats-median">median</h4>

					<code class="code code--block">median(values)</code>

					<p>Calculates the median average of the set of numbers in the <code>values</code> array.</p>

					<p><code>values</code> is an array of numbers.</p>

					<p>(city example.csv)</p>
				</div>

				<div class="docs-example js-doc-example">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code js-doc-example-code">let rows = dataConfig.rows;
let cols = dataConfig.cols;

let populations = rows.getCol(cols.POPULATION);
let medianPopulation = Stats.median(populations);

console.log(populations);
console.log(medianPopulation);</code>
					</div>

					<div class="docs-example__output-container">
						<samp class="code code--block docs-example__output js-doc-example-output"></samp>
					</div>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="stats-variance">variance</h4>

					<code class="code code--block">variance(values)</code>

					<p>Calculates the variance of the set of numbers in the <code>values</code> array.</p>

					<p><code>values</code> is an array of numbers.</p>

					<p>(city example.csv)</p>
				</div>

				<div class="docs-example js-doc-example">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code js-doc-example-code">let rows = dataConfig.rows;
let cols = dataConfig.cols;

let populations = rows.getCol(cols.POPULATION);
let populationVariance = Stats.variance(populations);

console.log(populations);
console.log(populationVariance);</code>
					</div>

					<div class="docs-example__output-container">
						<samp class="code code--block docs-example__output js-doc-example-output"></samp>
					</div>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="stats-sd">sd</h4>

					<code class="code code--block">sd(values)</code>

					<p>Calculates the standard deviation of the set of numbers in the <code>values</code> array.</p>

					<p><code>values</code> is an array of numbers.</p>

					<p>(city example.csv)</p>
				</div>

				<div class="docs-example js-doc-example">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code js-doc-example-code">let rows = dataConfig.rows;
let cols = dataConfig.cols;

let populations = rows.getCol(cols.POPULATION);
let populationSD = Stats.sd(populations);

console.log(populations);
console.log(populationSD);</code>
					</div>

					<div class="docs-example__output-container">
						<samp class="code code--block docs-example__output js-doc-example-output"></samp>
					</div>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="stats-max">max</h4>

					<code class="code code--block">max(values)</code>

					<p>Calculates the maximum of the set of numbers in the <code>values</code> array.</p>

					<p><code>values</code> is an array of numbers.</p>

					<p>(city example.csv)</p>
				</div>

				<div class="docs-example js-doc-example">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code js-doc-example-code">let rows = dataConfig.rows;
let cols = dataConfig.cols;

let populations = rows.getCol(cols.POPULATION);
let populationMax = Stats.max(populations);

console.log(populations);
console.log(populationMax);</code>
					</div>

					<div class="docs-example__output-container">
						<samp class="code code--block docs-example__output js-doc-example-output"></samp>
					</div>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="stats-min">min</h4>

					<code class="code code--block">min(values)</code>

					<p>Calculates the minimum of the set of numbers in the <code>values</code> array.</p>

					<p><code>values</code> is an array of numbers.</p>

					<p>(city example.csv)</p>
				</div>

				<div class="docs-example js-doc-example">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code js-doc-example-code">let rows = dataConfig.rows;
let cols = dataConfig.cols;

let populations = rows.getCol(cols.POPULATION);
let min = Stats.min(populations);

console.log(populations);
console.log(min);</code>
					</div>

					<div class="docs-example__output-container">
						<samp class="code code--block docs-example__output js-doc-example-output"></samp>
					</div>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="stats-intrange">intRange</h4>

					<code class="code code--block">intRange(start, finish)</code>

					<p>Creates an array of integers from a <code>start</code> value to a <code>finish</code> value.</p>

					<p><code>start</code> is a number. If it isn't an integer, it will be converted to one first via <code>Math.round</code>.</p>

					<p><code>finish</code> is a number. If it isn't an integer, it will be converted to one first via <code>Math.round</code>.</p>
				</div>

				<div class="docs-example js-doc-example">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code js-doc-example-code">let intRange = Stats.intRange(3, 5);

console.log(intRange);</code>
					</div>

					<div class="docs-example__output-container">
						<samp class="code code--block docs-example__output js-doc-example-output"></samp>
					</div>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="stats-linearleastsquares">linearLeastSquares</h4>

					<code class="code code--block">linearLeastSquare(y, x)</code>

					<p>Creates a linear regression fit for a set of data using the "least squares" method.</p>

					<p><code>y</code> is an array of values representing the data that will be fit.</p>

					<p><code>x</code> is an optional array of values representing the independent axis value for a given value in the <code>y</code> array. This is only necessary if the values in the <code>y</code> array are not evenly distributed across (e.g. one data point per year for a time series).</p>

					<p>(city example 3.csv)</p>
				</div>

				<div class="docs-example docs-example--code-only">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code">let rows = dataConfig.rows;
let cols = dataConfig.cols;

let years = rows.getCol(cols.YEAR);
let population = rows.getCol(cols.POPULATION);

let linearFit = Stats.linearLeastSquares(population);

let chartData = {
	title: 'Auckland city population over time',
	showLegend: true,
	labels: years,
	dataSeries: [
		{
			name: 'Population',
			color: '#f00',
			dataPoints: population
		},
		{
			name: 'Population linear fit',
			color: 'rgba(255, 255, 255, 0.5)',
			dataPoints: linearFit
		}
	]
};

let dependentAxisConfig = {
	values: 5,
	roundTo: 1000000,
	min: null
};

let independentAxisConfig = {
	valuesEvery: 2
};

let chart = Charter.createLineGraph(
	chartData,
	dependentAxisConfig,
	independentAxisConfig
);

$('#chart-area').append(chart);</code>
					</div>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="stats-r">r</h4>

					<code class="code code--block">r(y, x)</code>

					<p>Calculates the Pearson Correlation Coefficient between two sets of data of equal length.</p>

					<p><code>y</code> is an array of values.</p>

					<p><code>x</code> is an array of values of equal length to <code>y</code>.</p>

					<p>(city example 3.csv)</p>
				</div>

				<div class="docs-example js-doc-example" data-doc-example-input="city example 3.csv">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code js-doc-example-code">let rows = dataConfig.rows;
let cols = dataConfig.cols;

let years = rows.getCol(cols.YEAR);
let population = rows.getCol(cols.POPULATION);

let linearFit = Stats.linearLeastSquares(population);

let r = Stats.r(linearFit, population);

console.log(r);</code>
					</div>

					<div class="docs-example__output-container">
						<samp class="code code--block docs-example__output js-doc-example-output"></samp>
					</div>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="stats-r2">r2</h4>

					<code class="code code--block">r2(y, x)</code>

					<p>Calculates the r<sup>2</sup> value of a regression model, equivalent to the square of the Pearson Correlation Coefficient calculated by <code>r</code>.</p>

					<p><code>y</code> is an array of values.</p>

					<p><code>x</code> is an array of values of equal length to <code>y</code>.</p>

					<p>(city example 3.csv)</p>
				</div>

				<div class="docs-example js-doc-example" data-doc-example-input="city example 3.csv">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code js-doc-example-code">let rows = dataConfig.rows;
let cols = dataConfig.cols;

let years = rows.getCol(cols.YEAR);
let population = rows.getCol(cols.POPULATION);

let linearFit = Stats.linearLeastSquares(population);

let r2 = Stats.r2(linearFit, population);

console.log(r2);</code>
					</div>

					<div class="docs-example__output-container">
						<samp class="code code--block docs-example__output js-doc-example-output"></samp>
					</div>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="stats-smooth">smooth</h4>

					<code class="code code--block">smooth(y, smoothness)</code>

					<p>Smooths an array of data by converting it into a rolling average using a number of points based on its <code>smoothness</code> argument. The output array will be shorter than the input <code>y</code> array by one less than the value of <code>smoothness</code>.</p>

					<p><code>y</code> is an array of values.</p>

					<p><code>smoothness</code> is an integer between <code>1</code> and the length of <code>y</code> (using a value of <code>1</code> will return the input <code>y</code> array).</p>

					<p>(city example 3.csv)</p>
				</div>

				<div class="docs-example docs-example--code-only">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code">let rows = dataConfig.rows;
let cols = dataConfig.cols;

let years = rows.getCol(cols.YEAR);
let population = rows.getCol(cols.POPULATION);

let smoothness = 5;
let smoothed = Stats.smooth(population, smoothness);

let chartData = {
	title: 'Auckland city population over time',
	showLegend: true,
	labels: years.slice((smoothness-1)),
	dataSeries: [
		{
			name: 'Smoothed population',
			color: 'rgba(255, 255, 255, 0.5)',
			dataPoints: smoothed
		}
	]
};

let dependentAxisConfig = {
	values: 5,
	roundTo: 1000000,
	min: null
};

let independentAxisConfig = {
	valuesEvery: 2
};

let chart = Charter.createLineGraph(
	chartData,
	dependentAxisConfig,
	independentAxisConfig
);

$('#chart-area').append(chart);</code>
					</div>
				</div>
			</section>

			<section class="docs-method">
				<div class="content">
					<h4 class="docs-method__heading" id="stats-chunk">chunk</h4>

					<code class="code code--block">chunk(y, chunkSize)</code>

					<p>Converts an array of data into an array where each element is the sum of <code>chunkSize</code> elements of the input <code>y</code> array. This is useful, for example, for combining monthly data into yearly sums.</p>

					<p>The input <code>y</code>array should be evenly divisible by <code>chunkSize</code>, and the output array will by <code>1/chunkSize</code> as long as the input array.</p>

					<p>For example if <code>chunkSize</code> is <code>3</code>, the output array will be one third as long as the input array, as each of its elements is the sum of <code>3</code> elements of the input array.</p>

					<p><code>y</code> is an array of values.</p>

					<p><code>chunkSize</code> is a positive integer.</p>

					<p>(city example 3.csv)</p>
				</div>

				<div class="docs-example docs-example--code-only">
					<div class="docs-example__code-container">
						<code class="code code--block docs-example__code">let rows = dataConfig.rows;
let cols = dataConfig.cols;

let chunkSize = 5;
// Make sure rows.length will be divisible by chunkSize after removing one
while (((rows.length-1) % chunkSize) !== 0) {
	rows.shift();
}

let lastYearPopulation = rows.getCol(cols.POPULATION);

// Remove last "last year population" and first year's row, so the
// arrays line up as expected
lastYearPopulation.pop();
rows.shift();

let years = rows.getCol(cols.YEAR);

cols.POPULATION_PREVIOUS = rows.addCol(lastYearPopulation);
cols.POPULATION_INCREASE = rows.addDerivedCol((row) => (row[cols.POPULATION] - row[cols.POPULATION_PREVIOUS]));

let populationIncrease = rows.getCol(cols.POPULATION_INCREASE);
let chunkedPopulationIncrease = Stats.chunk(populationIncrease, chunkSize);

let yearSets = [];
for (let i = 0; i &lt; years.length; i += chunkSize) {
	yearSets.push(years[i] + '-' + years[i+(chunkSize-1)]);
}

let chartData = {
	title: 'Auckland city population increase',
	showLegend: true,
	labels: yearSets,
	dataSeries: [
		{
			name: 'Population increase',
			dataPoints: chunkedPopulationIncrease
		}
	]
};

let dependentAxisConfig = {
	values: 5,
	min: 0
};

let independentAxisConfig = {};

let chart = Charter.createBarChart(
	chartData,
	dependentAxisConfig,
	independentAxisConfig
);

$('#chart-area').append(chart);</code>
					</div>
				</div>
			</section>
		</section>
	</div>
</body>
</html>